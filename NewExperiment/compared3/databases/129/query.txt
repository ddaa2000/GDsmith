MATCH (n1 :L6)<-[r1 :T3]-(n2 :L6 :L0) WHERE ((r1.id) > -1) MATCH (n2)-[]->(n1 :L6)<-[]-(n0) WHERE (n1.k43) UNWIND [(n2.k40), (n2.k42)] AS a0 WITH (r1.k64) AS a1, (r1.k67) AS a2, n1, r1, n2 WHERE ((r1.k64) >= (n1.k40)) UNWIND [(n1.k42), (r1.k64)] AS a3 OPTIONAL MATCH (n3 :L4 :L1)<-[r2 :T1]-(n4)-[r3 :T3]->(n5), (n6 :L3)<-[r5 :T3]-(n7), (n8 :L0)<-[r6 :T1]-(n2) WHERE ((((((((n6.k23) OR (r2.k52)) AND ((r2.id) <> (r3.id))) AND ((r2.id) <> (r5.id))) AND ((r2.id) <> (r6.id))) AND ((r3.id) <> (r5.id))) AND ((r3.id) <> (r6.id))) AND ((r5.id) <> (r6.id))) OPTIONAL MATCH (n8 :L0)<-[r7 :T0]-(n9 :L0), (n7)<-[r8 :T1]-(n10 :L6 :L4) WHERE (((r2.k56) >= (n10.k38)) AND ((r7.id) <> (r8.id))) OPTIONAL MATCH (n11 :L3 :L2) WHERE ((n1.k44) OR (n8.k3)) WITH r1, r5, r3 ORDER BY (r1.k66), (r1.k67), (r3.k66) DESC RETURN (r5.k66) AS a4 ORDER BY a4 DESC
